(this.webpackJsonp=this.webpackJsonp||[]).push([["yireo-example-dealers-administration"],{CwJn:function(e,t,n){"use strict";n.r(t);var i=n("GLY6"),l=n.n(i);n("vkYm");const{Component:a,Mixin:r}=Shopware,{Criteria:o}=Shopware.Data;a.register("dealer-listing",{template:l.a,inject:["repositoryFactory","acl"],mixins:[r.getByName("listing")],metaInfo:()=>({title:"Dealers overview"}),data:()=>({dealers:[],isLoading:!1,totals:0,sortBy:"name"}),computed:{dealerRepository(){return this.repositoryFactory.create("dealer")}},created(){this.fetchDealers()},methods:{getList(){this.isLoading=!0;const e=new o(this.page,this.limit);e.setTerm(this.term);const t="name"===this.sortBy;e.addSorting(o.sort(this.sortBy,this.sortDirection,t)),this.dealersRepository.search(e,Shopware.Context.api).then(e=>(this.total=e.total,this.dealers=e,this.isLoading=!1,e)).catch(()=>{this.isLoading=!1})},getGridColumns:()=>[{property:"name",label:"dealers.listing.name",routerLink:"dealers.form",allowResize:!0,primary:!0},{property:"description",label:"dealers.listing.description",routerLink:"dealers.form",allowResize:!0},{property:"address",label:"dealers.listing.address",allowResize:!0},{property:"updatedAt",label:"sw-settings-rule.list.columnDateCreated",align:"right",allowResize:!0}]}});var s=n("ZYuv"),d=n.n(s);n("fHPi");const{Component:c}=Shopware;c.register("dealer-listing",{template:d.a,props:{title:{type:String,required:!0},link:{type:String,required:!0}}});const{Module:m}=Shopware;m.register("dealers",{type:"core",name:"dealer-listing",title:"dealers.general.mainMenuItemGeneral",description:"dealers.general.descriptionTextModule",version:"0.0.1",targetVersion:"0.0.1",color:"#FFCC00",icon:"default-device-dashboard",favicon:"icon-module-dashboard.png",routes:{index:{components:{default:"dealer-listing"},path:"index"}},navigation:[{id:"dealers-list",label:"dealers.general.mainMenuItemGeneral",color:"#FFCC00",icon:"default-device-dashboard",path:"dealer-listing.index",position:99}]})},GLY6:function(e,t){e.exports='{% block dealer_listing %}\n    <sw-page class="dealer-listing" :showSmartBar="false">\n        {% block dealer_listing_content %}\n            <sw-card-view slot="content" class="dealer-listing__content">\n                <template>\n                    <sw-card>\n                        {% block dealer_listing_content_grid %}\n                            <template slot="grid">\n                                <sw-entity-listing\n                                        class="dealer-listing-grid"\n                                        v-if="dealers"\n                                        :repository="dealerRepository"\n                                        :items="dealers"\n                                        :columns="getGridColumns()"\n                                        :showSelection="false"\n                                        :allowColumnEdit="false"\n                                        :showSelection="acl.can(\'rule.deleter\')"\n                                        :allowEdit="acl.can(\'rule.editor\')"\n                                        :allowDelete="acl.can(\'rule.deleter\')"\n                                        :fullPage="false"\n                                        detailRoute="dealer.detail"\n                                        @inline-edit-save="onInlineEditSave"\n                                        @items-delete-finish="getList"\n                                >\n                                    {% block dealer_listing_content_grid_created_at %}\n                                        <template slot="column-orderDateTime" slot-scope="{ item }">\n                                            {{ item.orderDateTime | date({\n                                                hour: \'2-digit\',\n                                                minute: \'2-digit\',\n                                                year: undefined,\n                                                month: undefined,\n                                                day: undefined\n                                            }) }}\n                                        </template>\n                                    {% endblock %}\n\n                                    {% block dealer_listing_content_grid_first_name %}\n                                        <template slot="column-orderCustomer.firstName" slot-scope="{ item }">\n                                            <router-link :to="{ name: \'sw.order.detail\', params: { id: item.id } }"\n                                                         class="sw-data-grid__cell-value">\n                                                {{ item.orderCustomer.firstName }} {{ item.orderCustomer.lastName }}\n                                            </router-link>\n                                        </template>\n                                    {% endblock %}\n\n                                    {% block dealer_listing_content_grid_short_name %}\n                                        <template slot="column-amountTotal" slot-scope="{ item }">\n                                            {{ item.amountTotal | currency(item.currency.shortName) }}\n                                        </template>\n                                    {% endblock %}\n\n                                    {% block dealer_listing_content_grid_state %}\n                                        <template slot="column-stateMachineState.name" slot-scope="{ item }">\n                                            <sw-label :variant="getVariantFromOrderState(item)" appearance="pill">\n                                                {{ item.stateMachineState.translated.name }}\n                                            </sw-label>\n                                        </template>\n                                    {% endblock %}\n\n                                    {% block dealer_listing_content_grid_actions %}\n                                        <template slot="actions" slot-scope="{ item }">\n                                            {% block dealer_listing_content_grid_actions_view %}\n                                                <sw-context-menu-item class="sw-order-list__order-view-action"\n                                                                      :routerLink="{ name: \'sw.order.detail\', params: { id: item.id } }">\n                                                    {{ $tc(\'sw-order.list.contextMenuView\') }}\n                                                </sw-context-menu-item>\n                                            {% endblock %}\n                                        </template>\n                                    {% endblock %}\n                                </sw-entity-listing>\n                            </template>\n                        {% endblock %}\n                    </sw-card>\n                </template>\n            </sw-card-view>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n'},NlLU:function(e,t,n){},UX09:function(e,t,n){},ZYuv:function(e,t){e.exports="{% block dealer_listing %}\n    <h1>Dealer listing</h1>\n{% endblock %}\n"},fHPi:function(e,t,n){var i=n("UX09");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("f8883620",i,!0,{})},vkYm:function(e,t,n){var i=n("NlLU");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("7c691220",i,!0,{})}},[["CwJn","runtime","vendors-node"]]]);