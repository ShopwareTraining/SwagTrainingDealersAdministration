(this.webpackJsonp=this.webpackJsonp||[]).push([["swag-training-dealers-administration"],{"+kHe":function(e,t){e.exports='{% block dealer_form %}\n    <sw-page class="dealer-form">\n        <template slot="smart-bar-actions">\n            <sw-button :disabled="isLoading" @click="onCancel">\n                {{ $tc(\'dealers.form.buttonCancel\') }}\n            </sw-button>\n\n            <sw-button-process\n                    class="dealers-form__save-action"\n                    :isLoading="isLoading"\n                    v-model="isSaveSuccessful"\n                    :disabled="isLoading || !acl.can(\'dealers.editor\')"\n                    variant="primary"\n                    @process-finish="saveFinish"\n                    @click.prevent="onSave">\n                {{ $tc(\'dealers.form.buttonSave\') }}\n            </sw-button-process>\n        </template>\n\n        <sw-card-view slot="content">\n            <sw-card>\n                <h2>Dealer edit</h2>\n\n                <sw-field\n                        type="text"\n                        required\n                        :disabled="!acl.can(\'dealers.editor\')"\n                        :label="$tc(\'dealers.form.name\')"\n                        :placeholder="placeholder(dealer, \'name\', $tc(\'dealers.form.name\'))"\n                        v-model="dealer.name">\n                </sw-field>\n\n                <sw-field\n                        type="text"\n                        required\n                        :disabled="!acl.can(\'dealers.editor\')"\n                        :label="$tc(\'dealers.form.description\')"\n                        :placeholder="placeholder(dealer, \'description\', $tc(\'dealers.form.description\'))"\n                        v-model="dealer.description">\n                </sw-field>\n\n                <sw-field\n                        type="text"\n                        required\n                        :disabled="!acl.can(\'dealers.editor\')"\n                        :label="$tc(\'dealers.form.address\')"\n                        :placeholder="placeholder(dealer, \'address\', $tc(\'dealers.form.address\'))"\n                        v-model="dealer.address">\n                </sw-field>\n            </sw-card>\n        </sw-card-view>\n    </sw-page>\n{% endblock %}\n'},FTGw:function(e,t,a){"use strict";a.r(t);var i=a("eprr"),n=a.n(i);a("YY/3");const{Component:r,Mixin:s}=Shopware,{Criteria:l}=Shopware.Data;r.register("dealer-listing-page",{template:n.a,inject:["repositoryFactory","acl"],mixins:[s.getByName("listing"),s.getByName("notification")],metaInfo:()=>({title:"Dealers overview"}),data:()=>({dealers:null,isLoading:!1}),computed:{dealerRepository(){return this.repositoryFactory.create("dealer")}},createdComponent(){this.getList()},methods:{getCriteria(){const e=new l(this.page,this.limit);return this.term&&e.setTerm(this.term),e.addSorting(l.sort("name","ASC")),e},getList(){this.isLoading=!0,this.dealerRepository.search(this.getCriteria(),Shopware.Context.api).then((e=>(this.dealers=e,this.total=e.total,e))).finally((()=>{this.isLoading=!1}))},onInlineEditSave(e){e.save()},getGridColumns:()=>[{property:"name",label:"dealers.listing.name",routerLink:"swag.training.dealers.form",allowResize:!0,primary:!0},{property:"description",label:"dealers.listing.description",allowResize:!0},{property:"address",label:"dealers.listing.address",allowResize:!0}]}});var o=a("+kHe"),d=a.n(o);a("T+xm");const{Component:c,Mixin:p}=Shopware;c.register("dealer-form-page",{template:d.a,inject:["repositoryFactory","acl"],mixins:[p.getByName("notification"),p.getByName("placeholder")],metaInfo:()=>({title:"Dealers form"}),data:()=>({dealer:{},isLoading:!1,isSaveSuccessful:!1}),computed:{identifier(){return this.placeholder(this.dealer,"name")},dealerRepository(){return this.repositoryFactory.create("dealer")}},watch:{dealerId(){this.dealerId||this.createdComponent()}},created(){this.getDealer()},methods:{getDealer(){this.isLoading=!0,this.dealerId||(this.dealerId=this.$route.query.id,this.dealerId||(this.dealerId=this.$route.params.id),this.dealerRepository.get(this.dealerId,Shopware.Context.api).then((e=>{this.dealer=e,this.isLoading=!1})))},loadEntityData(){this.dealer=this.dealerRepository.get(this.dealerId,Shopware.Context.api).then((e=>{this.dealer=e}))},saveFinish(){this.isSaveSuccessful=!1},onSave(){return this.isSaveSuccessful=!1,this.isLoading=!0,this.dealerRepository.save(this.dealer,Shopware.Context.api).then((()=>{this.isSaveSuccessful=!0,this.dealerId||this.$router.push({name:"dealer.form",params:{id:this.dealer.id}}),this.dealerRepository.get(this.dealer.id,Shopware.Context.api).then((e=>{this.dealer=e,this.isLoading=!1}))})).catch((()=>{this.createNotificationError({message:this.$tc("detail.form.notificationErrorMessage")}),this.isLoading=!1}))},onCancel(){this.$router.push({name:"dealer.index"})}}});const{Module:m}=Shopware;m.register("swag-training-dealers",{type:"plugin",name:"dealers",title:"dealers.general.mainMenuItemGeneral",description:"dealers.general.descriptionTextModule",version:"0.0.1",targetVersion:"0.0.1",color:"#FFCC00",icon:"default-device-dashboard",favicon:"icon-module-dashboard.png",routes:{index:{components:{default:"dealer-listing-page"},path:"index"},form:{components:{default:"dealer-form-page"},path:"form"}},navigation:[{id:"dealers.listing",label:"dealers.general.mainMenuItemGeneral",color:"#FFCC00",icon:"default-device-dashboard",path:"swag.training.dealers.index",position:1}]})},M8Wn:function(e,t,a){},"T+xm":function(e,t,a){var i=a("M8Wn");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("SZ7m").default)("68da2382",i,!0,{})},"YY/3":function(e,t,a){var i=a("jpUq");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("SZ7m").default)("38077030",i,!0,{})},eprr:function(e,t){e.exports='{% block dealer_listing %}\n    <sw-page class="dealer-listing">\n        <template #content>\n            <sw-card>\n                <h2>Dealer listing</h2>\n                <sw-entity-listing\n                        v-if="dealers"\n                        ref="swagTrainingDealersAdministration"\n                        class="dealer-listing-grid"\n                        :repository="dealerRepository"\n                        :items="dealers"\n                        :columns="getGridColumns()"\n                        :fullPage="false"\n                        :isLoading="isLoading"\n                        detailRoute="swag.training.dealers.form"\n                >\n                    <template #actions="{ item }">\n\n                        <sw-context-menu-item class="dealer-listing__dealer-edit-action"\n                                              :routerLink="{ name: \'swag.training.dealers.form\', params: { id: item.id } }">\n                            {{ $tc(\'dealers.listing.contextMenuEdit\') }}\n                        </sw-context-menu-item>\n                    </template>\n                </sw-entity-listing>\n            </sw-card>\n        </template>\n    </sw-page>\n{% endblock %}\n'},jpUq:function(e,t,a){}},[["FTGw","runtime","vendors-node"]]]);